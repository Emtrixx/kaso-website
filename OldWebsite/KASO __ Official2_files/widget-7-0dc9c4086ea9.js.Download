(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{140:function(e,t,n){var o=n(831),i=n(541);e.exports=i.extend({SoundView:o})},541:function(e,t,n){var o=n(78),i=n(523),l=n(49),s=n(37),r=n(540);e.exports=s.extend(r,i,{ModelClass:l,performanceSelector:".playButton",SoundView:null,css:n(542),className:"singleSound g-box-full",template:function(){return""},defaults:{resource_id:null,resource_type:null,secret_token:null},setup:function(){var e=this.options.secret_token;e&&this.model.set({secret_token:e,sharing:"private"})},renderDecorate:function(){var e=this.subviews.sound;e||(e=this.addSubview(new this.SoundView(this.options),"sound")),this.$el.empty().append(e.render().el)},getFetchErrorMessage:function(){return o.SOUND_NOT_FOUND}})},542:function(e,t,n){var o=n(3),i=n(543);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var l={insert:"head",singleton:!1},s=(o(i,l),i.locals?i.locals:{});e.exports=s},543:function(e,t,n){(t=n(0)(!1)).push([e.i,".singleSound{border-radius:3px;overflow:hidden}",""]),e.exports=t},831:function(e,t,n){var o=n(536),i=n(18),l=n(832),s=n(557),r=n(503),a=n(49),u=n(37),d=n(514);e.exports=u.extend(o,r,{className:"visualSoundContainer g-box-full",css:n(834),template:n(836),ModelClass:a,showRelatedAfterTeaser:!1,states:{related:function(e){var t,n,o;e&&(m.call(this),this.toggleState("teaser",!1));t=this.subviews.relatedSounds,o=t&&t.collection,_.call(this,e),e&&(n=i.getCurrentSound(),o&&n&&o.models.slice(0,o.indexOf(n)+1).forEach(t.removeListItem.bind(t)),t.getLength()||t.rerender());this.toggleState("relatedVisible",e)},teaser:function(e){e&&this.toggleState("related",!1);this.toggleTeaserView(e)}},setup:function(){c.call(this,!0)},dispose:function(){c.call(this,!1)},onTeaserDismiss:function(){this.showRelatedAfterTeaser&&this.model.areRelatedSoundsEnabled()&&this.addDeferred(setTimeout(function(){this.toggleState("related",!0),this.showRelatedAfterTeaser=!1}.bind(this),1.5*this.TEASER_TRANSITION_DURATION))}});function c(e){i[e=e?"on":"off"]("play",p,this)[e]("pause",h,this)[e]("change:current",f,this)}function p(){b.call(this)?(this.model.areRelatedSoundsEnabled()&&(m.call(this),this.toggleState("related",!1)),this.toggleState("teaser",!1)):_.call(this,!1)}function h(e){b.call(this)?this.teaserCanBeDisplayed()&&this.model.isTeaserEnabled()?(this.toggleState("teaser",!0),e.isEnded()&&(this.showRelatedAfterTeaser=!0)):this.model.areRelatedSoundsEnabled()&&this.toggleState("related",!0):_.call(this,!0)}function f(e){var t=e.current,n=e.prev;t&&v.call(this,t),n&&n.seek(0)}function v(e){var t,n=this.subviews.visualAudible;n&&n.model.id===e.id||(t=function(e){return new d({resource_id:e.resource_id,resource_type:e.resource_type})}(e),this.removeSubview(n),this.addSubview(t.render(),"visualAudible"),t.whenInserted().done(function(){t.$el.removeClass("animate"),this.addDeferred(setTimeout(n._dispose.bind(n),1e3))}.bind(this)),t.$el.addClass("animate g-transition-transform").appendTo(this.$$("sound")),this.toggleState("related",!1))}function m(){var e,t=this.subviews.relatedSounds;t||((t=new s({resource_id:this.model.id})).render(),this.addSubview(t,"relatedSounds"),(e=t.collection).fetch().done(g.bind(this,e))),this.$$("related").append(t.el)}function g(e){var t=new l({resource_id:this.model.resource_id,own_sounds:e.hasOwnSounds});this.$$("related").prepend(t.render().el)}function b(){return this.getWindowHeight()>130}function _(e){var t=this.subviews.visualAudible;t&&t.toggleBackgroundState(e)}},832:function(e,t,n){var o=n(49),i=n(37);e.exports=i.extend({template:n(833),className:"relatedSoundsTitle sc-truncate sc-text-verylight",ModelClass:o,requiredAttributes:["user","title","permalink_url"],defaults:{own_sounds:!1},getTemplateData:function(e){var t={isOwnSounds:this.options.own_sounds};return this.options.own_sounds?(t.link=e.user.permalink_url,t.text=e.user.username):(t.link=e.permalink_url,t.text=e.title),t}})},833:function(e,t,n){var o=n(77);e.exports=(o.default||o).template({1:function(e,t,n,o,i){var l,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(l=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"isContinuousPlayEnabled"):t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.program(5,i,0),data:i,loc:{start:{line:2,column:2},end:{line:10,column:9}}}))?l:"")+"\n"},2:function(e,t,o,i,l){var s,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(s=(n(501)||t&&r(t,"$t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"$t",hash:{text:null!=t?r(t,"text"):t,link:null!=t?r(t,"link"):t},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:3,column:4},end:{line:5,column:11}}}))?s:""},3:function(e,t,n,o,i){return'      Play more tracks by <a class="sc-link-white" href="[[link]]">[[text]]</a>\n'},5:function(e,t,o,i,l){var s,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(s=(n(501)||t&&r(t,"$t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"$t",hash:{text:null!=t?r(t,"text"):t,link:null!=t?r(t,"link"):t},fn:e.program(6,l,0),inverse:e.noop,data:l,loc:{start:{line:7,column:4},end:{line:9,column:11}}}))?s:""},6:function(e,t,n,o,i){return'      Play another track by <a class="sc-link-white" href="[[link]]">[[text]]</a>\n'},8:function(e,t,o,i,l){var s,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(s=(n(501)||t&&r(t,"$t")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},{name:"$t",hash:{text:null!=t?r(t,"text"):t,link:null!=t?r(t,"link"):t},fn:e.program(9,l,0),inverse:e.noop,data:l,loc:{start:{line:13,column:2},end:{line:15,column:9}}}))?s:""},9:function(e,t,n,o,i){return'    Play more tracks like <a class="sc-link-white" href="[[link]]">[[text]]</a>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,o,i){var l,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(l=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"isOwnSounds"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(8,i,0),data:i,loc:{start:{line:1,column:0},end:{line:16,column:7}}}))?l:""},useData:!0})},834:function(e,t,n){var o=n(3),i=n(835);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var l={insert:"head",singleton:!1},s=(o(i,l),i.locals?i.locals:{});e.exports=s},835:function(e,t,n){(t=n(0)(!1)).push([e.i,".visualSoundContainer{position:fixed;top:0;left:0}.visualSoundContainer__sound>.visualAudible{position:absolute;top:0;left:0;-webkit-transform:translateZ(0)}.visualSoundContainer__sound>.visualAudible.animate{-webkit-transform:translate3d(100%,0,0)}.visualSoundContainer__teaser{position:absolute;right:0;bottom:0;left:0;top:0;opacity:0;pointer-events:none}.visualSoundContainer.teaserVisible .visualSoundContainer__teaser{opacity:1;pointer-events:auto}.visualSoundContainer__related{position:absolute;right:0;bottom:0;left:0;padding:30px 12px;transform:translate3d(0,100%,0)}.visualSoundContainer .visualAudible__waveform{bottom:30px}.visualSoundContainer__related>.relatedSoundsTitle{margin-bottom:5px}.visualSoundContainer.relatedVisible .visualSoundContainer__related{transform:translateZ(0);z-index:1}.visualSoundContainer .adContainer{position:absolute;right:0;left:0;top:0;bottom:0;transform:translate3d(0,100%,0);visibility:hidden}.visualSoundContainer .adContainer>*{visibility:visible}.visualSoundContainer.adState .adContainer{transform:translateZ(0)}",""]),e.exports=t},836:function(e,t,n){var o=n(77);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,i,l){var s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="visualSoundContainer__sound">\n  '+e.escapeExpression((n(500)||t&&s(t,"$view")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},n(514),{name:"$view",hash:{key:"visualAudible",resource_type:null!=t?s(t,"_resource_type"):t,resource_id:null!=t?s(t,"_resource_id"):t},data:l,loc:{start:{line:2,column:2},end:{line:5,column:25}}}))+'\n</div>\n<div class="visualSoundContainer__related g-transition-transform"></div>\n<div class="visualSoundContainer__teaser g-transition-opacity"></div>\n'},useData:!0})}}]);
//# sourceMappingURL=http://ent/web-sourcemaps/widget-7-0dc9c4086ea9.js.map